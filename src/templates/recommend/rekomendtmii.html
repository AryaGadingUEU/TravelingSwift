<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Taman Mini Indonesia Indah</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="dicoding:email"
      content="aryagading2004@student.esaunggul.ac.id"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Oswald:wght@200..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <button onclick="location.href='#content-main'" class="skip-link">
      Menuju ke konten
    </button>
    <header>
      <div class="logo-container">
        <img
          src="../images/mainlogo.png"
          alt="Main Logo"
          class="logo"
          tabindex="0"
        />
        <span class="logo-text" tabindex="0">TravelingSwift</span>
      </div>
      <div class="hamburger">
        <button
          class="hamburger-indicator"
          aria-label="Navigasi Menu"
          tabindex="0"
        >
          ☰
        </button>
      </div>
      <nav class="navigation">
        <a href="index.html" class="nav-link">Beranda</a>
        <a href="planning.html" class="nav-link">Perencanaan</a>
        <a href="recommendation.html" class="nav-link">Rekomendasi</a>
        <a href="gallery.html" class="nav-link">Galeri</a>
        <a href="aboutus.html" class="nav-link">Tentang</a>
      </nav>
      <div class="user-options">
        <a class="profile">
          <img
            src="/images/ProfileIcon.png"
            alt="Profile Logo"
            class="user-logo"
          />
        </a>
        <div class="user-dropdown"></div>
      </div>
    </header>

    <div id="recommendationDetail">
      <div class="pembungkussatu">
        <div class="image1"><img 
          src="../images/tmii.jpeg" alt="">
        </div>
        <div class="pembungkusdua">
          <div class="image3">
            <img 
            src="../images/tmii2.jpeg" alt="">
            <img 
            src="../images/tmii3.jpeg" alt="">
          </div>

          <div class="image4">
            <img 
            src="../images/tmii4.jpeg" alt="">
            <img 
            src="../images/tmii5.jpeg" alt="">
          </div>
        </div>
      </div>
        <div class="recommendation-deskripsi">
          <p class="judul">Taman Mini Indonesia Indah</p>
          <p class="tempat">Kota: Jakarta Timur</p>
          <p class="alamat">Alamat: Jl. Taman Mini Indonesia Indah, Ceger, Kec. Cipayung, Kota Jakarta Timur</p>
          <p class="rating">Rating: <span class="ratingnumber">4</span></p>
          <p class="deskripsi">
            Taman Mini Indonesia Indah (TMII) adalah sebuah taman budaya yang terletak di Jakarta Timur. TMII menampilkan miniatur dari keberagaman budaya Indonesia, dengan paviliun-paviliun yang mewakili masing-masing provinsi. Di dalamnya terdapat anjungan tradisional, museum, taman, dan tempat rekreasi. TMII juga memiliki Teater Keong Emas, kereta gantung, dan danau dengan miniatur kepulauan Indonesia. 
            TMII yang memiliki slogan “Jelajah Cerita Indonesia” ini dibuka pada tanggal 20 April 1975 dengan gagasan yang dikemukakan oleh ibu Tien Soeharto pada 13 Maret 1970. Secara resminya, Taman Mini Indonesia Indah (TMII) mulai dibangun pada tahun 1972.
          </p>
          <p class="deskripsi">
            Taman Mini Indonesia Indah (TMII) sendiri memiliki dua tarif terpisah yakni tarif kendaraan dan tarif perorangan. Untuk tarif mobil/taksi, dikenakan biaya Rp35.000,00. Untuk tarif motor, dikenakan biaya Rp15.000,00. Untuk tarif bus/truk, dikenakan biaya Rp60.000,00. Untuk tarif perorangan, dikenakan biaya Rp35.000,00/orang. 
            Mayoritas tempat dan anjungan yang ada di Taman Mini Indonesia Indah (TMII) bisa dibilang sebagai terawat dengan baik, bahkan 6 anjungan diantaranya menerima renovasi demi menjaga kualitas. Meski demikian, ada beberapa anjungan Taman Mini Indonesia Indah (TMII) yang terlihat kurang terawat.
          </p>
          <a href="https://www.tripadvisor.co.id/Attraction_Review-g294229-d379330-Reviews-Beautiful_Indonesia_in_Miniature_Park-Jakarta_Java.html" target="" class="btnrecomend">Detail lebih lanjut</a>
        </div>
      </div>
    </div>

    <footer>
      <div class="text-footer" tabindex="0">
        <p>Dari C624-PS046 dengan cinta &hearts;~</p>
      </div>
    </footer>

    <!-- Script Logout -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import {
        getAuth,
        signOut,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
      import {
        getDatabase,
        get,
        ref,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDYX8vwQvyV6w3qXGkH98rDVC6OtYGfKlA",
        authDomain: "travelingswift-2d5c2.firebaseapp.com",
        projectId: "travelingswift-2d5c2",
        storageBucket: "travelingswift-2d5c2.appspot.com",
        messagingSenderId: "1085644116670",
        appId: "1:1085644116670:web:f3d155410a101d4f4ec4ef",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const accountDetails = document.querySelector(".user-dropdown");

      const db = getDatabase();

      // Authentication Track
      const setupUI = (user) => {
        if (user) {
          const userId = user.uid;
          const userRef = ref(db, `users/${userId}/account_info`);

          get(userRef).then((snapshot) => {
            if (snapshot.exists()) {
              const userName = snapshot.val().name;
              const html = `
              <span class="user_name">${userName}</span>
              <span class="user_email">${user.email}</span>
              <button id="logout-button" value="ok">Keluar</button>
              `;
              accountDetails.innerHTML = html;

              let logoutButton = document.getElementById("logout-button");
              logoutButton.addEventListener("click", (e) => {
                e.preventDefault();
                signOut(auth)
                  .then(() => {
                    alert("User sukses logout");
                    location.href = "logscreen.html";
                  })
                  .catch((error) => {
                  });
              });
            }
          });
        } else {
        }
      };

      auth.onAuthStateChanged((user) => {
        if (user) {
          setupUI(user);
        } else {
          window.location = "logscreen.html";
        }
      });
    </script>
  </body>
</html>
